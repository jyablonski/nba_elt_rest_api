{% extends 'base.html' %}

{% block content %}

<style>
   table {
      width: 100%;
   }

   table,
   th,
   td {
      border-collapse: collapse;
      border: 2px solid rgb(0, 0, 0);
      letter-spacing: 1px;
      font-family: sans-serif;
      font-size: 0.9rem;
      margin: 20px;
      text-align: center;
      vertical-align: middle;
      border-spacing: 15px;
      padding: 0.5rem;
   }

   tbody tr:nth-child(odd) {
      background-color: #2928287a;
   }

   tbody tr:nth-child(even) {
      background-color: #eee;
   }
</style>

<center>
   <h4 class="text-center my-3 pb-3">{{ username }}</h4>
   <h1 class="text-center my-3 pb-3">NBA User Prediction Bets Page</h4>
</center>
<form name="selected_team_winner" action="/bets" method="post" enctype="multipart/form-data">
   <table class="table mb-4">
      <thead>
         <tr>
            <th scope="col">Game Date</th>
            <th scope="col">Home Team</th>
            <th scope="col">Home Team Odds</th>
            <th scope="col">Home Predicted Win %</th>
            <th scope="col">Away Team</th>
            <th scope="col">Away Team Odds</th>
            <th scope="col">Away Predicted Win %</th>
            <th scope="col">Selected Winner</th>
            <th scope="col">Bet Amount</th>
         </tr>
      </thead>
      <tbody>
         <!-- <select name="bet_predictions"> -->
         {% for game in games_today %}
         <tr>
            <th scope="row">{{game.proper_date }}</th>
            <td>{{ game.home_team }}</td>
            <td>{{ game.home_team_odds }}</td>
            <td>{{ (game.home_team_predicted_win_pct * 100)|round(3) }}% </td>
            <td>{{ game.away_team }}</td>
            <td>{{ game.away_team_odds }}</td>
            <td>{{ (game.away_team_predicted_win_pct * 100)|round(3)}}% </td>
            <td>
               {% set teams = [game.home_team, game.away_team] %}
               <select name="bet_predictions">
                  {% for team in teams %}
                  <option value="{{ team }}"> {{ team }} </option>
                  {% endfor %}
               </select>
            </td>
            <td> <input type="number" name="bet_amounts" value="10" class="form-control"></td>
         </tr>
         {% endfor %}
         <!-- </select> -->
      </tbody>
   </table>
   <center>
      <div class="col-6">
         {% if is_games_left is not defined %}
         {% set is_games_left = 0 %}
         {% endif %}

         {% if is_games_left > 0 %}
         <button type="submit" class="btn btn-primary">Save</button>
         {% else %}
         <p class="btn btn-primary">No Games to Predict</p>
         {% endif %}
      </div>
</form>
<br>
<br>
<a href="/past_bets">Past Bets Page</a>
</center>
<!-- <center> <a class="btn btn-success text-align-center" href="/bets">Save</a> </center> -->


{% endblock %}